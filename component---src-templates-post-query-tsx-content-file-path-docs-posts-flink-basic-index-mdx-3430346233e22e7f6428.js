"use strict";(self.webpackChunkmqjd_blog=self.webpackChunkmqjd_blog||[]).push([[15],{2433:function(e,t,n){var l=n(2531),r=n(6540),i=n(3896),a=n(2644),o=n(8699);t.A=e=>{let{tags:t}=e;const{tagsPath:n,basePath:s}=(0,a.A)();return(0,l.Y)(r.Fragment,null,t.map((e,t)=>(0,l.Y)(r.Fragment,{key:e.slug},!!t&&", ",(0,l.Y)(i.Link,{sx:e=>{var t;return Object.assign({},null===(t=e.styles)||void 0===t?void 0:t.a)},to:(0,o.A)("/"+s+"/"+n+"/"+e.slug)},e.name))))}},3500:function(e,t,n){var l=n(3896);t.A=()=>(0,l.useStaticQuery)("2421966660").site.siteMetadata},6386:function(e,t,n){n.d(t,{A:function(){return T}});var l=n(6540),r=n(7437),i=n(2531),a=n(4379),o=n(6835),s=n(2644),c=n(7141);const m={position:"relative",width:"24px",height:"24px",borderRadius:"50%",transition:"all 0.45s ease","&:before":{content:'""',position:"absolute",right:"-9px",top:"-9px",height:"24px",width:"24px",transition:"transform 0.45s ease",borderRadius:"50%"},"&:after":{content:'""',width:"8px",height:"8px",borderRadius:"50%",margin:"-4px 0 0 -4px",position:"absolute",top:"50%",left:"50%",transition:"all 0.35s ease",boxShadow:e=>"0 -23px 0 "+(0,a.Jt)(e,"colors.toggleIcon")+", 0 23px 0 "+(0,a.Jt)(e,"colors.toggleIcon")+", 23px 0 0 "+(0,a.Jt)(e,"colors.toggleIcon")+", -23px 0 0 "+(0,a.Jt)(e,"colors.toggleIcon")+", 15px 15px 0 "+(0,a.Jt)(e,"colors.toggleIcon")+", -15px 15px 0 "+(0,a.Jt)(e,"colors.toggleIcon")+", 15px -15px 0 "+(0,a.Jt)(e,"colors.toggleIcon")+", -15px -15px 0 "+(0,a.Jt)(e,"colors.toggleIcon")}},h={opacity:.65,position:"relative",borderRadius:"4px",width:"40px",height:"25px",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.3s ease",border:"none",outline:"none",background:"none",cursor:"pointer",padding:0,appearance:"none","&:hover, &:focus":{opacity:1}},d=()=>(0,i.Y)("button",{type:"button",sx:h},(0,i.Y)("div",{sx:Object.assign({},m,{transform:"scale(0.55)","&:before":Object.assign({},m["&:before"],{opacity:0}),"&:after":Object.assign({},m["&:after"],{transform:"scale(0)"})})})),f=e=>{let{children:t,fallback:n}=e;const[r,a]=l.useState(!1);return l.useEffect(()=>{a(!0)},[]),r?(0,i.Y)(l.Fragment,null,t):n?(0,i.Y)(l.Fragment,null,n):null};var p=()=>{const[e,t]=(0,c.G6)(),n="dark"===e;return(0,i.Y)(f,{fallback:(0,i.Y)(d,null)},(0,i.Y)("button",{onClick:()=>{const e=n?"light":"dark";t(e),document.documentElement.classList.value="theme-ui-"+e},type:"button","aria-label":n?"Activate Light Mode":"Activate Dark Mode",title:n?"Activate Light Mode":"Activate Dark Mode",sx:h},(0,i.Y)("div",{sx:Object.assign({},m,{border:e=>n?"4px solid "+(0,a.Jt)(e,"colors.toggleIcon"):"none",backgroundColor:n?"toggleIcon":"transparent",transform:n?"scale(0.55)":"scale(1)",overflow:n?"visible":"hidden",boxShadow:e=>n?"none":"inset 8px -8px 0px 0px "+(0,a.Jt)(e,"colors.toggleIcon"),"&:before":Object.assign({},m["&:before"],{border:e=>n?"2px solid "+(0,a.Jt)(e,"colors.toggleIcon"):"none",transform:n?"translate(14px, -14px)":"translate(0, 0)",opacity:n?0:1}),"&:after":Object.assign({},m["&:after"],{transform:n?"scale(1)":"scale(0)"})})})))},g=n(3896),E=n(8699);var w=e=>{let{nav:t}=e;const{basePath:n}=(0,s.A)();return(0,i.Y)(l.Fragment,null,t&&t.length>0&&(0,i.Y)("nav",{sx:{"a:not(:last-of-type)":{mr:3},fontSize:["1em","1.25em","1.25em"],".active":{color:"heading"}}},t.map(e=>(0,i.Y)(g.Link,{activeClassName:"active",key:e.slug,sx:e=>{var t;return Object.assign({},null===(t=e.styles)||void 0===t?void 0:t.a)},to:(0,E.A)("/"+n+"/"+e.slug)},e.title))))},v=n(3500);var b=()=>{const{siteTitle:e}=(0,v.A)(),{basePath:t}=(0,s.A)();return(0,i.Y)(g.Link,{to:(0,E.A)("/"+t),"aria-label":e+" - Back to home",sx:{color:"heading",textDecoration:"none"}},(0,i.Y)("div",{sx:{my:0,fontWeight:"semibold",fontSize:["1.5em","1.875em"]}},e))};var u=()=>{const{externalLinks:e}=(0,s.A)();return(0,i.Y)(l.Fragment,null,e&&e.length>0&&(0,i.Y)("div",{sx:{"a:not(:first-of-type)":{ml:3},fontSize:["1em","1.25em"]}},e.map(e=>(0,i.Y)(o.N_,{key:e.url,href:e.url},e.name))))};var x=()=>{const{navigation:e}=(0,s.A)();return(0,i.Y)("header",{sx:{mb:[3,5]}},(0,i.Y)(o.so,{sx:{alignItems:"center",justifyContent:"space-between"}},(0,i.Y)(b,null),(0,i.Y)(p,null)),(0,i.Y)("div",{sx:{boxSizing:"border-box",display:"flex",variant:"dividers.bottom",alignItems:"center",justifyContent:"space-between",mt:3,color:"secondary",a:{color:"secondary",":hover":{color:"heading"}},flexFlow:"wrap"}},(0,i.Y)(w,{nav:e}),(0,i.Y)(u,null)))};var y=()=>{const{siteTitle:e}=(0,v.A)();return(0,i.Y)("footer",{sx:{boxSizing:"border-box",display:"flex",justifyContent:"space-between",mt:[6],color:"secondary",a:{variant:"links.secondary"},flexDirection:["column","column","row"],variant:"dividers.top"}},(0,i.Y)("div",null,"© ",(new Date).getFullYear()," based on ",e,". All rights reserved."),(0,i.Y)("div",null,(0,i.Y)(o.N_,{"aria-label":"Link to the theme's GitHub repository",href:"https://github.com/LekoArts/gatsby-themes/tree/main/themes/gatsby-theme-minimal-blog"},"Theme")," ","based on"," ",(0,i.Y)(o.N_,{"aria-label":"Link to the theme author's website",href:"https://www.lekoarts.de?utm_source=minimal-blog&utm_medium=Theme"},"LekoArts")))};var S={".prism-code":{fontSize:"1em",webkitOverflowScrolling:"touch",backgroundColor:"transparent",minWidth:"100%",mb:0,mt:0,overflow:"auto",'&[data-linenumber="false"]':{".token-line":{pl:3}}},".gatsby-highlight[data-language='none'], .gatsby-highlight[data-language='']":{".code-content":{pt:"1rem"}},".code-content":{padding:"2rem 1rem 1rem 1rem",color:"plain-color",backgroundColor:"plain-backgroundColor"},".token":{display:"inline-block"},"p > code, li > code":{bg:"muted",color:"heading",px:2,py:1,borderRadius:"4px",fontSize:"0.95em"},".gatsby-highlight":{fontSize:["1.25em","1.25em"],position:"relative",webkitOverflowScrolling:"touch",borderRadius:"4px",overflow:"hidden",mx:[0,0,0,-3],".token-line":{mx:-3,minWidth:"100%"},"pre code":{float:"left",minWidth:"100%"},'pre[class*="language-"]:before':{bg:"white",borderRadius:"0 0 4px 4px",color:"black",fontSize:"12px",letterSpacing:"0.035rem",padding:"0.1rem 0.5rem",position:"absolute",left:"1rem",textAlign:"right",textTransform:"uppercase",fontFamily:"body",fontWeight:600},'pre[class~="language-golang"]:before, pre[class~="language-go"]:before':{content:'"go"',background:"#79d4fd",color:"black"},'pre[class~="language-javascript"]:before, pre[class~="language-js"]:before':{content:'"js"',background:"#f7df1e",color:"black"},'pre[class~="language-jsx"]:before':{content:'"jsx"',background:"#61dafb",color:"black"},'pre[class~="language-ts"]:before':{content:'"ts"',background:"#61dafb",color:"black"},'pre[class~="language-tsx"]:before':{content:'"tsx"',background:"#61dafb",color:"black"},'pre[class~="language-html"]:before':{content:'"html"',background:"#005a9c",color:"white"},'pre[class~="language-xml"]:before':{content:'"xml"',background:"#005a9c",color:"white"},'pre[class~="language-svg"]:before':{content:'"svg"',background:"#005a9c",color:"white"},'pre[class~="language-graphql"]:before':{content:'"GraphQL"',background:"#E10098"},'pre[class~="language-css"]:before':{content:'"css"',background:"#ff9800",color:"black"},'pre[class~="language-mdx"]:before':{content:'"mdx"',background:"#f9ac00",color:"black"},'pre[class~="language-php"]:before':{content:'"php"',background:"#777bb3",color:"black"},'pre[class~="language-py"]:before, pre[class~="language-python"]:before':{content:'"py"',background:"#306998",color:"white"},'pre[class~="language-text"]:before':{content:'"text"'},"pre[class~='language-shell']:before":{content:"'shell'"},"pre[class~='language-sh']:before":{content:"'sh'"},"pre[class~='language-bash']:before":{content:"'bash'"},"pre[class~='language-yaml']:before":{content:"'yaml'",background:"#ffa8df"},"pre[class~='language-yml']:before":{content:"'yml'",background:"#ffa8df"},"pre[class~='language-markdown']:before":{content:"'md'"},"pre[class~='language-json']:before, pre[class~='language-json5']:before":{content:"'json'",background:"linen"},"pre[class~='language-diff']:before":{content:"'diff'",background:"#e6ffed"}},'.gatsby-highlight > code[class*="language-"], .gatsby-highlight > pre[class=*="language-"]':{wordSpacing:"normal",wordBreak:"normal",overflowWrap:"normal",lineHeight:1.5,tabSize:4,hyphens:"none"},".gatsby-highlight pre::-webkit-scrollbar":{width:2,height:2},".gatsby-highlight pre::-webkit-scrollbar-thumb":{backgroundColor:"primary"},".gatsby-highlight pre::-webkit-scrollbar-track":{background:"muted"},".line-number-style":{display:"inline-block",width:"3em",userSelect:"none",opacity:.3,textAlign:"center",position:"relative"},".code-title":{backgroundColor:"muted",color:"text",fontSize:"1em",px:3,py:2,fontFamily:"body"},".token-line":{pr:3},".highlight-line":{borderLeft:"4px solid rgb(2, 155, 206)",".line-number-style":{width:"calc(3em - 4px)",opacity:.5,left:"-2px"}},".footnotes":{borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:"divide",pt:2,mt:5,overflow:"auto",".sr-only":n(7412).Q},".react-live-wrapper":{position:"relative"}},k=n(8168),F=n(8587);const z=["children"],A={border:0,clip:"react(0 0 0 0)",height:"1px",width:"1px",margin:"-1px",padding:0,overflow:"hidden",position:"absolute","&:focus":{padding:3,position:"fixed",top:"15px",left:"15px",backgroundColor:"heading",color:"background",zIndex:1,width:"auto",height:"auto",clip:"auto",textDecoration:"none"}};var H=e=>{let{children:t}=e,n=(0,F.A)(e,z);return(0,i.Y)("a",(0,k.A)({},n,{sx:A,href:"#skip-nav","data-skip-link":"true"}),t)};var T=e=>{let{children:t,className:n=""}=e;return(0,i.Y)(l.Fragment,null,(0,i.Y)(r.mL,{styles:e=>({"*":{boxSizing:"inherit"},"[hidden]":{display:"none"},"::selection":{backgroundColor:(0,a.Jt)(e,"colors.text"),color:(0,a.Jt)(e,"colors.background")}})}),(0,i.Y)(H,null,"Skip to content"),(0,i.Y)(o.mc,null,(0,i.Y)(x,null),(0,i.Y)(o.az,{id:"skip-nav",as:"main",variant:"layout.main",sx:Object.assign({},S),className:n},t),(0,i.Y)(y,null)))}},6663:function(e,t,n){n.r(t),n.d(t,{Head:function(){return s.p},default:function(){return h}});var l=n(8453),r=n(6540);function i(e){const t=Object.assign({h2:"h2",a:"a",span:"span",p:"p",img:"img",blockquote:"blockquote",ul:"ul",li:"li",h3:"h3",svg:"svg",path:"path",switch:"switch",foreignObject:"foreignObject",div:"div",b:"b",font:"font",text:"text",br:"br",g:"g",rect:"rect",circle:"circle"},(0,l.R)(),e.components);return r.createElement(r.Fragment,null,r.createElement(t.h2,{id:"flink-基本概念",style:{position:"relative"}},r.createElement(t.a,{href:"#flink-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5","aria-label":"flink 基本概念 permalink",className:"anchor before"},r.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),r.createElement(t.a,{href:"https://t.hk.uy/aDBj"},"Flink 基本概念")),"\n",r.createElement(t.p,null,"Apache Flink 是一个框架和分布式处理引擎，用于在无边界和有边界数据流上进行有状态的计算。Flink 能在所有常见集群环境中运行，并能以内存速度和任意规模进行计算。\n",r.createElement(t.img,{src:"https://mqjd.github.io/assets/imgs/img/flink_home_graphic.png",alt:"总体"})),"\n",r.createElement(t.h2,{id:"名词介绍",style:{position:"relative"}},r.createElement(t.a,{href:"#%E5%90%8D%E8%AF%8D%E4%BB%8B%E7%BB%8D","aria-label":"名词介绍 permalink",className:"anchor before"},r.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"名词介绍"),"\n",r.createElement(t.p,null,r.createElement(t.a,{href:"https://ci.apache.org/projects/flink/flink-docs-release-1.10/concepts/glossary.html"},"Flink官网: 名词介绍")),"\n",r.createElement(t.h2,{id:"整体组件",style:{position:"relative"}},r.createElement(t.a,{href:"#%E6%95%B4%E4%BD%93%E7%BB%84%E4%BB%B6","aria-label":"整体组件 permalink",className:"anchor before"},r.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"整体组件"),"\n",r.createElement(t.blockquote,null,"\n",r.createElement(t.p,null,"下面的图片可点击模块跳转至官方说明"),"\n"),"\n",r.createElement("div",null,r.createElement("center",null,r.createElement("img",{src:"https://mqjd.github.io/assets/imgs/img/flink_stack.png",width:"700px",alt:"Apache Flink：堆栈",useMap:"#overview-stack"})),r.createElement("map",{name:"overview-stack"},r.createElement("area",{id:"lib-datastream-cep",title:"CEP: Complex Event Processing",href:"//ci.apache.org/projects/flink/flink-docs-release-1.10/dev/libs/cep.html",target:"_blank",shape:"rect",coords:"63,0,143,177"}),r.createElement("area",{id:"lib-datastream-table",title:"Table: Relational DataStreams",href:"//ci.apache.org/projects/flink/flink-docs-release-1.10/dev/table/index.html",target:"_blank",shape:"rect",coords:"143,0,223,177"}),r.createElement("area",{id:"lib-dataset-gelly",title:"Gelly: Graph Processing",href:"//ci.apache.org/projects/flink/flink-docs-release-1.10/dev/libs/gelly/index.html",target:"_blank",shape:"rect",coords:"461,0,541,177"}),r.createElement("area",{id:"lib-dataset-table",title:"Table API and SQL",href:"//ci.apache.org/projects/flink/flink-docs-release-1.10/dev/table/index.html",target:"_blank",shape:"rect",coords:"544,0,624,177"}),r.createElement("area",{id:"datastream",title:"DataStream API",href:"//ci.apache.org/projects/flink/flink-docs-release-1.10/dev/datastream_api.html",target:"_blank",shape:"rect",coords:"64,177,379,255"}),r.createElement("area",{id:"dataset",title:"DataSet API",href:"//ci.apache.org/projects/flink/flink-docs-release-1.10/dev/batch/index.html",target:"_blank",shape:"rect",coords:"382,177,697,255"}),r.createElement("area",{id:"runtime",title:"Runtime",href:"//ci.apache.org/projects/flink/flink-docs-release-1.10/concepts/runtime.html",target:"_blank",shape:"rect",coords:"63,257,700,335"}),r.createElement("area",{id:"local",title:"Local",href:"//ci.apache.org/projects/flink/flink-docs-release-1.10/getting-started/tutorials/local_setup.html",target:"_blank",shape:"rect",coords:"62,337,275,414"}),r.createElement("area",{id:"cluster",title:"Cluster",href:"//ci.apache.org/projects/flink/flink-docs-release-1.10/ops/deployment/cluster_setup.html",target:"_blank",shape:"rect",coords:"273,336,486,413"}))),"\n",r.createElement(t.ul,null,"\n",r.createElement(t.li,null,"\n",r.createElement(t.p,null,"Deployment层。该层主要涉及了Flink的部署模式，Flink支持多种部署模式：本地、集群(Standalone/YARN),(GCE/EC200)。"),"\n"),"\n",r.createElement(t.li,null,"\n",r.createElement(t.p,null,"Runtime层。Runtime层提供了支持Flink计算的全部核心实现，比如：支持分布式Stream处理、JobGraph到ExecutionGraph的映射、调度等等，为上层API层提供基础服务。"),"\n"),"\n",r.createElement(t.li,null,"\n",r.createElement(t.p,null,"API层： 主要实现了面向无界Stream的流处理和面向Batch的批处理API，其中面向流处理对应DataStream API，面向批处理对应DataSet API。"),"\n"),"\n",r.createElement(t.li,null,"\n",r.createElement(t.p,null,"Libraries层：该层也可以称为Flink应用框架层，根据API层的划分，在API层之上构建的满足特定应用的实现计算框架，也分别对应于面向流处理和面向批处理两类。面向流处理支持：CEP（复杂事件处理）、基于SQL-like的操作（基于Table的关系操作）；面向批处理支持：FlinkML（机器学习库）、Gelly（图处理）"),"\n"),"\n"),"\n",r.createElement(t.h2,{id:"流",style:{position:"relative"}},r.createElement(t.a,{href:"#%E6%B5%81","aria-label":"流 permalink",className:"anchor before"},r.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"流"),"\n",r.createElement(t.ul,null,"\n",r.createElement(t.li,null,"有界流(Bounded)\n有定义流的开始，但没有定义流的结束。它们会无休止地产生数据。无界流的数据必须持续处理，即数据被摄取后需要立刻处理。我们不能等到所有数据都到达再处理，因为输入是无限的，在任何时候输入都不会完成。处理无界数据通常要求以特定顺序摄取事件，例如事件发生的顺序，以便能够推断结果的完整性。"),"\n",r.createElement(t.li,null,"无界流(Unbounded)\n有定义流的开始，也有定义流的结束。有界流可以在摄取所有数据后再进行计算。有界流所有数据可以被排序，所以并不需要有序摄取。有界流处理通常被称为批处理"),"\n"),"\n",r.createElement(t.img,{src:"https://mqjd.github.io/assets/imgs/img/flink_bounded_unbounded.png",alt:"流"}),"\n",r.createElement(t.h2,{id:"数据流编程模型",style:{position:"relative"}},r.createElement(t.a,{href:"#%E6%95%B0%E6%8D%AE%E6%B5%81%E7%BC%96%E7%A8%8B%E6%A8%A1%E5%9E%8B","aria-label":"数据流编程模型 permalink",className:"anchor before"},r.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"数据流编程模型"),"\n",r.createElement(t.p,null,r.createElement(t.a,{href:"https://ci.apache.org/projects/flink/flink-docs-release-1.10/concepts/programming-model.html"},"Flink官网: 数据流编程模型")),"\n",r.createElement(t.h2,{id:"分布式运行环境",style:{position:"relative"}},r.createElement(t.a,{href:"#%E5%88%86%E5%B8%83%E5%BC%8F%E8%BF%90%E8%A1%8C%E7%8E%AF%E5%A2%83","aria-label":"分布式运行环境 permalink",className:"anchor before"},r.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"分布式运行环境"),"\n",r.createElement(t.p,null,r.createElement(t.a,{href:"https://ci.apache.org/projects/flink/flink-docs-release-1.10/concepts/runtime.html"},"Flink官网: 分布式运行环境")),"\n",r.createElement(t.h2,{id:"状态",style:{position:"relative"}},r.createElement(t.a,{href:"#%E7%8A%B6%E6%80%81","aria-label":"状态 permalink",className:"anchor before"},r.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"状态"),"\n",r.createElement(t.p,null,r.createElement(t.a,{href:"https://t.hk.uy/aDBn"},"Flink 状态管理及容错机制")),"\n",r.createElement(t.p,null,r.createElement(t.a,{href:"https://ci.apache.org/projects/flink/flink-docs-release-1.10/internals/stream_checkpointing.html"},"Flink官网: 容错机制")),"\n",r.createElement(t.h2,{id:"时间",style:{position:"relative"}},r.createElement(t.a,{href:"#%E6%97%B6%E9%97%B4","aria-label":"时间 permalink",className:"anchor before"},r.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"时间"),"\n",r.createElement(t.h3,{id:"time",style:{position:"relative"}},r.createElement(t.a,{href:"#time","aria-label":"time permalink",className:"anchor before"},r.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Time"),"\n",r.createElement(t.p,null,r.createElement(t.a,{href:"https://ci.apache.org/projects/flink/flink-docs-release-1.10/dev/event_time.html"},"Flink 官网介绍")),"\n",r.createElement(t.ul,null,"\n",r.createElement(t.li,null,"\n",r.createElement(t.p,null,"Event Time\n是每条数据在其生产设备上发生的时间。这段时间通常嵌入在记录数据中，然后进入Flink，可以从记录中提取事件的时间戳；Event Time即使在数据发生乱序，延迟或者从备份或持久性日志中重新获取数据的情况下，也能提供正确的结果。这个时间是最有价值的，和挂在任何电脑/操作系统的时钟时间无关。"),"\n"),"\n",r.createElement(t.li,null,"\n",r.createElement(t.p,null,"Ingestion Time\n是指执行相应操作的机器的系统时间。如果流计算系统基于Processing Time来处理，对流处理系统来说是最简单的，所有基于时间的操作（如Time Window）将使用运行相应算子的机器的系统时钟。然而，在分布式和异步环境中，Processing Time并不能保证确定性，它容易受到Event到达系统的速度（例如来自消息队列）以及数据在Flink系统内部处理的先后顺序的影响，所以Processing Time不能准确地反应数据发生的时间序列情况"),"\n"),"\n",r.createElement(t.li,null,"\n",r.createElement(t.p,null,"Processing Time"),"\n"),"\n"),"\n",r.createElement(t.p,null,"是事件进入Flink的时间。 在Source算子处产生，也就是在Source处获取到这个数据的时间，Ingestion Time在概念上位于Event Time和Processing Time之间。在Source处获取数据的时间,不受Flink分布式系统内部处理Event的先后顺序和数据传输的影响，相对稳定一些，但是Ingestion Time和Processing Time一样，不能准确地反应数据发生的时间序列情况。"),"\n",r.createElement(t.img,{src:"https://mqjd.github.io/assets/imgs/img/flink_time.jpg",alt:"时间"}),"\n",r.createElement(t.h3,{id:"watermarks",style:{position:"relative"}},r.createElement(t.a,{href:"#watermarks","aria-label":"watermarks permalink",className:"anchor before"},r.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Watermarks"),"\n",r.createElement(t.p,null,"Flink实际上是用 Watermarks 来实现Event – Time 的功能。Watermarks 在Flink 中也属于特殊事件，其精髓在于当某个运算值收到带有时间戳“ T ”的 Watermarks 时就意味着它不会接收到新的数据了。使用Watermarks 的好处在于可以准确预估收到数据的截止时间。举例，假设预期收到数据时间与输出结果时间的时间差延迟5 分钟，那么Flink 中所有的 Windows Operator 搜索3 点至4 点的数据，但因为存在延迟需要再多等5分钟直至收集完4：05 分的数据，此时方能判定4 点钟的资料收集完成了，然后才会产出3 点至4 点的数据结果。这个时间段的结果对应的就是 Watermarks 的部分。"),"\n",r.createElement(t.img,{src:"https://mqjd.github.io/assets/imgs/img/flink_watermark.jpg",alt:"img"}),"\n",r.createElement(t.h2,{id:"window",style:{position:"relative"}},r.createElement(t.a,{href:"#window","aria-label":"window permalink",className:"anchor before"},r.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Window"),"\n",r.createElement(t.p,null,r.createElement(t.a,{href:"https://t.hk.uy/aDBp"},"Time & Window 解析")),"\n",r.createElement(t.p,null,"Apache Flink（以下简称 Flink） 是一个天然支持无限流数据处理的分布式计算框架，在 Flink 中 Window 可以将无限流切分成有限流，是处理有限流的核心组件，现在 Flink 中 Window 可以是时间驱动的（Time Window），也可以是数据驱动的（Count Window）。下面的代码是在 Flink 中使用 Window 的两个示例"),"\n",r.createElement(t.img,{src:"https://mqjd.github.io/assets/imgs/img/flink_keyed_window.jpg",alt:"img"}),"\n",r.createElement(t.img,{src:"https://mqjd.github.io/assets/imgs/img/flink_none_keyed_window.jpg",alt:"img"}),"\n",r.createElement(t.h2,{id:"runtime架构",style:{position:"relative"}},r.createElement(t.a,{href:"#runtime%E6%9E%B6%E6%9E%84","aria-label":"runtime架构 permalink",className:"anchor before"},r.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Runtime架构"),"\n",r.createElement(t.p,null,"Flink 是可以运行在多种不同的环境中的，例如，它可以通过单进程多线程的方式直接运行，从而提供调试的能力。它也可以运行在 Yarn 或者 K8S 这种资源管理系统上面，也可以在各种云环境中执行。针对不同的执行环境，Flink 提供了一套统一的分布式作业执行引擎，也就是 Flink Runtime 这层。Flink 在 Runtime 层之上提供了 DataStream 和 DataSet 两套 API，分别用来编写流作业与批作业，以及一组更高级的 API 来简化特定作业的编写"),"\n",r.createElement(t.svg,{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:681,height:402,style:{maxHeight:"100%",maxWidth:"100%"},viewBox:"-0.5 -0.5 681 402"},r.createElement(t.path,{fill:"none",d:"M0 0h680v400H0z",pointerEvents:"all"}),r.createElement(t.path,{fill:"none",d:"M0 400v-80h80v80z",pointerEvents:"all"}),r.createElement(t.switch,{transform:"rotate(-90 71.5 360)"},r.createElement(t.foreignObject,{width:"100%",height:"100%",pointerEvents:"none",requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",style:{overflow:"visible",textAlign:"left"}},r.createElement(t.div,{xmlns:"http://www.w3.org/1999/xhtml",style:{display:"flex",alignItems:"unsafe flex-end",justifyContent:"unsafe center",width:78,height:1,paddingTop:360,marginLeft:33}},r.createElement(t.div,{"data-drawio-colors":"color: rgb(0, 0, 0);",style:{boxSizing:"border-box",fontSize:0,textAlign:"center"}},r.createElement(t.div,{style:{display:"inline-block",fontSize:16,fontFamily:"Helvetica",color:"#000",lineHeight:"1.2",pointerEvents:"all",whiteSpace:"normal",overflowWrap:"normal"}},r.createElement(t.b,{style:{fontSize:16}},r.createElement(t.font,{style:{fontSize:16}},"Deploy")))))),r.createElement(t.text,{x:72,y:360,fontFamily:"Helvetica",fontSize:16,textAnchor:"middle"},"Deploy")),r.createElement(t.path,{fill:"#e0e0e0",stroke:"#424242",d:"M80 320h200v80H80z",pointerEvents:"all"}),r.createElement(t.switch,{transform:"translate(-.5 -.5)"},r.createElement(t.foreignObject,{width:"100%",height:"100%",pointerEvents:"none",requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",style:{overflow:"visible",textAlign:"left"}},r.createElement(t.div,{xmlns:"http://www.w3.org/1999/xhtml",style:{display:"flex",alignItems:"unsafe center",justifyContent:"unsafe center",width:198,height:1,paddingTop:360,marginLeft:81}},r.createElement(t.div,{"data-drawio-colors":"color: rgb(0, 0, 0);",style:{boxSizing:"border-box",fontSize:0,textAlign:"center"}},r.createElement(t.div,{style:{display:"inline-block",fontSize:16,fontFamily:"Helvetica",color:"#000",lineHeight:"1.2",pointerEvents:"all",whiteSpace:"normal",overflowWrap:"normal"}},r.createElement(t.font,{style:{fontSize:16}},r.createElement(t.b,{style:{fontSize:16}},r.createElement(t.font,{style:{fontSize:16}},"Local")),r.createElement(t.br,{style:{fontSize:16}}),r.createElement(t.font,{style:{fontSize:16}},"Single JVM"),r.createElement(t.br,{style:{fontSize:16}})))))),r.createElement(t.text,{x:180,y:365,fontFamily:"Helvetica",fontSize:16,textAnchor:"middle"},"Local...")),r.createElement(t.path,{fill:"#ffe0b2",stroke:"#424242",d:"M80 160h300v80H80z",pointerEvents:"all"}),r.createElement(t.switch,{transform:"translate(-.5 -.5)"},r.createElement(t.foreignObject,{width:"100%",height:"100%",pointerEvents:"none",requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",style:{overflow:"visible",textAlign:"left"}},r.createElement(t.div,{xmlns:"http://www.w3.org/1999/xhtml",style:{display:"flex",alignItems:"unsafe center",justifyContent:"unsafe center",width:298,height:1,paddingTop:200,marginLeft:81}},r.createElement(t.div,{"data-drawio-colors":"color: rgb(0, 0, 0);",style:{boxSizing:"border-box",fontSize:0,textAlign:"center"}},r.createElement(t.div,{style:{display:"inline-block",fontSize:16,fontFamily:"Helvetica",color:"#000",lineHeight:"1.2",pointerEvents:"all",whiteSpace:"normal",overflowWrap:"normal"}},r.createElement(t.b,{style:{borderColor:"var(--border-color)",fontSize:16}},"DataStream API",r.createElement(t.br,{style:{fontSize:16}})),r.createElement(t.font,{style:{borderColor:"var(--border-color)",fontSize:16}},"Stream Processing"))))),r.createElement(t.text,{x:230,y:205,fontFamily:"Helvetica",fontSize:16,textAnchor:"middle"},"DataStream API...")),r.createElement(t.path,{fill:"#ffe0b2",stroke:"#424242",d:"M380 160h300v80H380z",pointerEvents:"all"}),r.createElement(t.switch,{transform:"translate(-.5 -.5)"},r.createElement(t.foreignObject,{width:"100%",height:"100%",pointerEvents:"none",requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",style:{overflow:"visible",textAlign:"left"}},r.createElement(t.div,{xmlns:"http://www.w3.org/1999/xhtml",style:{display:"flex",alignItems:"unsafe center",justifyContent:"unsafe center",width:298,height:1,paddingTop:200,marginLeft:381}},r.createElement(t.div,{"data-drawio-colors":"color: rgb(0, 0, 0);",style:{boxSizing:"border-box",fontSize:0,textAlign:"center"}},r.createElement(t.div,{style:{display:"inline-block",fontSize:16,fontFamily:"Helvetica",color:"#000",lineHeight:"1.2",pointerEvents:"all",whiteSpace:"normal",overflowWrap:"normal"}},r.createElement(t.b,{style:{borderColor:"var(--border-color)",fontSize:16}},"DataSet API",r.createElement(t.br,{style:{borderColor:"var(--border-color)",fontSize:16}})),r.createElement(t.font,{style:{borderColor:"var(--border-color)",fontSize:16}},"Batch Processing"))))),r.createElement(t.text,{x:530,y:205,fontFamily:"Helvetica",fontSize:16,textAnchor:"middle"},"DataSet API...")),r.createElement(t.path,{fill:"none",d:"M0 320v-80h80v80z",pointerEvents:"all"}),r.createElement(t.switch,{transform:"rotate(-90 71.5 280)"},r.createElement(t.foreignObject,{width:"100%",height:"100%",pointerEvents:"none",requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",style:{overflow:"visible",textAlign:"left"}},r.createElement(t.div,{xmlns:"http://www.w3.org/1999/xhtml",style:{display:"flex",alignItems:"unsafe flex-end",justifyContent:"unsafe center",width:78,height:1,paddingTop:280,marginLeft:33}},r.createElement(t.div,{"data-drawio-colors":"color: rgb(0, 0, 0);",style:{boxSizing:"border-box",fontSize:0,textAlign:"center"}},r.createElement(t.div,{style:{display:"inline-block",fontSize:16,fontFamily:"Helvetica",color:"#000",lineHeight:"1.2",pointerEvents:"all",whiteSpace:"normal",overflowWrap:"normal"}},r.createElement(t.b,{style:{fontSize:16}},r.createElement(t.font,{style:{fontSize:16}},"Core")))))),r.createElement(t.text,{x:72,y:280,fontFamily:"Helvetica",fontSize:16,textAnchor:"middle"},"Core")),r.createElement(t.path,{fill:"none",d:"M0 240V0h80v240z",pointerEvents:"all"}),r.createElement(t.switch,{transform:"rotate(-90 71.5 120)"},r.createElement(t.foreignObject,{width:"100%",height:"100%",pointerEvents:"none",requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",style:{overflow:"visible",textAlign:"left"}},r.createElement(t.div,{xmlns:"http://www.w3.org/1999/xhtml",style:{display:"flex",alignItems:"unsafe flex-end",justifyContent:"unsafe center",width:238,height:1,paddingTop:120,marginLeft:"-47px"}},r.createElement(t.div,{"data-drawio-colors":"color: rgb(0, 0, 0);",style:{boxSizing:"border-box",fontSize:0,textAlign:"center"}},r.createElement(t.div,{style:{display:"inline-block",fontSize:16,fontFamily:"Helvetica",color:"#000",lineHeight:"1.2",pointerEvents:"all",whiteSpace:"normal",overflowWrap:"normal"}},r.createElement(t.b,{style:{fontSize:16}},r.createElement(t.font,{style:{fontSize:16}},"APIs & Libraries")))))),r.createElement(t.text,{x:72,y:120,fontFamily:"Helvetica",fontSize:16,textAnchor:"middle"},"APIs & Libraries")),r.createElement(t.path,{fill:"#e0e0e0",stroke:"#424242",d:"M280 320h200v80H280z",pointerEvents:"all"}),r.createElement(t.switch,{transform:"translate(-.5 -.5)"},r.createElement(t.foreignObject,{width:"100%",height:"100%",pointerEvents:"none",requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",style:{overflow:"visible",textAlign:"left"}},r.createElement(t.div,{xmlns:"http://www.w3.org/1999/xhtml",style:{display:"flex",alignItems:"unsafe center",justifyContent:"unsafe center",width:198,height:1,paddingTop:360,marginLeft:281}},r.createElement(t.div,{"data-drawio-colors":"color: rgb(0, 0, 0);",style:{boxSizing:"border-box",fontSize:0,textAlign:"center"}},r.createElement(t.div,{style:{display:"inline-block",fontSize:16,fontFamily:"Helvetica",color:"#000",lineHeight:"1.2",pointerEvents:"all",whiteSpace:"normal",overflowWrap:"normal"}},r.createElement(t.font,{style:{fontSize:16}},r.createElement(t.span,{style:{fontSize:16}},r.createElement(t.b,{style:{fontSize:16}},"Cluster")),r.createElement(t.br,{style:{fontSize:16}}),r.createElement(t.font,{style:{fontSize:16}},"Standalone、YARN"),r.createElement(t.br,{style:{fontSize:16}})))))),r.createElement(t.text,{x:380,y:365,fontFamily:"Helvetica",fontSize:16,textAnchor:"middle"},"Cluster...")),r.createElement(t.path,{fill:"#e0e0e0",stroke:"#424242",d:"M480 320h200v80H480z",pointerEvents:"all"}),r.createElement(t.switch,{transform:"translate(-.5 -.5)"},r.createElement(t.foreignObject,{width:"100%",height:"100%",pointerEvents:"none",requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",style:{overflow:"visible",textAlign:"left"}},r.createElement(t.div,{xmlns:"http://www.w3.org/1999/xhtml",style:{display:"flex",alignItems:"unsafe center",justifyContent:"unsafe center",width:198,height:1,paddingTop:360,marginLeft:481}},r.createElement(t.div,{"data-drawio-colors":"color: rgb(0, 0, 0);",style:{boxSizing:"border-box",fontSize:0,textAlign:"center"}},r.createElement(t.div,{style:{display:"inline-block",fontSize:16,fontFamily:"Helvetica",color:"#000",lineHeight:"1.2",pointerEvents:"all",whiteSpace:"normal",overflowWrap:"normal"}},r.createElement(t.font,{style:{fontSize:16}},r.createElement(t.span,{style:{fontSize:16}},r.createElement(t.b,{style:{fontSize:16}},"Cloud")),r.createElement(t.br,{style:{fontSize:16}}),r.createElement(t.font,{style:{fontSize:16}},"GCE、EC2"),r.createElement(t.br,{style:{fontSize:16}})))))),r.createElement(t.text,{x:580,y:365,fontFamily:"Helvetica",fontSize:16,textAnchor:"middle"},"Cloud...")),r.createElement(t.path,{fill:"#ffecb3",stroke:"#424242",d:"M80 240h600v80H80z",pointerEvents:"all"}),r.createElement(t.switch,{transform:"translate(-.5 -.5)"},r.createElement(t.foreignObject,{width:"100%",height:"100%",pointerEvents:"none",requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",style:{overflow:"visible",textAlign:"left"}},r.createElement(t.div,{xmlns:"http://www.w3.org/1999/xhtml",style:{display:"flex",alignItems:"unsafe center",justifyContent:"unsafe center",width:598,height:1,paddingTop:280,marginLeft:81}},r.createElement(t.div,{"data-drawio-colors":"color: rgb(0, 0, 0);",style:{boxSizing:"border-box",fontSize:0,textAlign:"center"}},r.createElement(t.div,{style:{display:"inline-block",fontSize:16,fontFamily:"Helvetica",color:"#000",lineHeight:"1.2",pointerEvents:"all",whiteSpace:"normal",overflowWrap:"normal"}},r.createElement(t.font,{style:{fontSize:16}},r.createElement(t.span,{style:{fontSize:16}},r.createElement(t.b,{style:{fontSize:16}},"Runtime")),r.createElement(t.br,{style:{fontSize:16}}),r.createElement(t.font,{style:{fontSize:16}},"Distributed Streaming Dataflow"),r.createElement(t.br,{style:{fontSize:16}})))))),r.createElement(t.text,{x:380,y:285,fontFamily:"Helvetica",fontSize:16,textAnchor:"middle"},"Runtime...")),r.createElement(t.path,{fill:"#fff8e1",stroke:"#424242",d:"M80 160V0h80v160z",pointerEvents:"all"}),r.createElement(t.switch,{transform:"rotate(-90 117 143)"},r.createElement(t.foreignObject,{width:"100%",height:"100%",pointerEvents:"none",requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",style:{overflow:"visible",textAlign:"left"}},r.createElement(t.div,{xmlns:"http://www.w3.org/1999/xhtml",style:{display:"flex",alignItems:"unsafe center",justifyContent:"unsafe flex-start",width:143,height:1,paddingTop:143,marginLeft:118}},r.createElement(t.div,{"data-drawio-colors":"color: rgb(0, 0, 0);",style:{boxSizing:"border-box",fontSize:0,textAlign:"left"}},r.createElement(t.div,{style:{display:"inline-block",fontSize:16,fontFamily:"Helvetica",color:"#000",lineHeight:"1.2",pointerEvents:"all",whiteSpace:"normal",overflowWrap:"normal"}},r.createElement(t.b,{style:{borderColor:"var(--border-color)",textAlign:"center",fontSize:16}},"CEP",r.createElement(t.br,{style:{borderColor:"var(--border-color)",fontSize:16}})),r.createElement(t.font,{style:{borderColor:"var(--border-color)",textAlign:"center",fontSize:16}},"Event Processing"))))),r.createElement(t.text,{x:118,y:148,fontFamily:"Helvetica",fontSize:16},"CEP...")),r.createElement(t.path,{fill:"#fff8e1",stroke:"#424242",d:"M160 160V0h80v160z",pointerEvents:"all"}),r.createElement(t.switch,{transform:"rotate(-90 197 143)"},r.createElement(t.foreignObject,{width:"100%",height:"100%",pointerEvents:"none",requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",style:{overflow:"visible",textAlign:"left"}},r.createElement(t.div,{xmlns:"http://www.w3.org/1999/xhtml",style:{display:"flex",alignItems:"unsafe center",justifyContent:"unsafe flex-start",width:143,height:1,paddingTop:143,marginLeft:198}},r.createElement(t.div,{"data-drawio-colors":"color: rgb(0, 0, 0);",style:{boxSizing:"border-box",fontSize:0,textAlign:"left"}},r.createElement(t.div,{style:{display:"inline-block",fontSize:16,fontFamily:"Helvetica",color:"#000",lineHeight:"1.2",pointerEvents:"all",whiteSpace:"normal",overflowWrap:"normal"}},r.createElement(t.b,{style:{borderColor:"var(--border-color)",textAlign:"center",fontSize:16}},"Table API & SQL",r.createElement(t.br,{style:{borderColor:"var(--border-color)",fontSize:16}})),r.createElement(t.font,{style:{borderColor:"var(--border-color)",textAlign:"center",fontSize:16}},"relational"))))),r.createElement(t.text,{x:198,y:148,fontFamily:"Helvetica",fontSize:16},"Table API & SQL...")),r.createElement(t.path,{fill:"#fff8e1",stroke:"#424242",d:"M380 160V0h80v160z",pointerEvents:"all"}),r.createElement(t.switch,{transform:"rotate(-90 417 143)"},r.createElement(t.foreignObject,{width:"100%",height:"100%",pointerEvents:"none",requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",style:{overflow:"visible",textAlign:"left"}},r.createElement(t.div,{xmlns:"http://www.w3.org/1999/xhtml",style:{display:"flex",alignItems:"unsafe center",justifyContent:"unsafe flex-start",width:143,height:1,paddingTop:143,marginLeft:417}},r.createElement(t.div,{"data-drawio-colors":"color: rgb(0, 0, 0);",style:{boxSizing:"border-box",fontSize:0,textAlign:"left"}},r.createElement(t.div,{style:{display:"inline-block",fontSize:16,fontFamily:"Helvetica",color:"#000",lineHeight:"1.2",pointerEvents:"all",whiteSpace:"normal",overflowWrap:"normal"}},r.createElement(t.b,{style:{borderColor:"var(--border-color)",textAlign:"center",fontSize:16}},"FlinkML",r.createElement(t.br,{style:{borderColor:"var(--border-color)",fontSize:16}})),r.createElement(t.font,{style:{borderColor:"var(--border-color)",textAlign:"center",fontSize:16}},"Mache Learning"))))),r.createElement(t.text,{x:417,y:148,fontFamily:"Helvetica",fontSize:16},"FlinkML...")),r.createElement(t.path,{fill:"#fff8e1",stroke:"#424242",d:"M460 160V0h80v160z",pointerEvents:"all"}),r.createElement(t.switch,{transform:"rotate(-90 497 143)"},r.createElement(t.foreignObject,{width:"100%",height:"100%",pointerEvents:"none",requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",style:{overflow:"visible",textAlign:"left"}},r.createElement(t.div,{xmlns:"http://www.w3.org/1999/xhtml",style:{display:"flex",alignItems:"unsafe center",justifyContent:"unsafe flex-start",width:143,height:1,paddingTop:143,marginLeft:498}},r.createElement(t.div,{"data-drawio-colors":"color: rgb(0, 0, 0);",style:{boxSizing:"border-box",fontSize:0,textAlign:"left"}},r.createElement(t.div,{style:{display:"inline-block",fontSize:16,fontFamily:"Helvetica",color:"#000",lineHeight:"1.2",pointerEvents:"all",whiteSpace:"normal",overflowWrap:"normal"}},r.createElement(t.b,{style:{borderColor:"var(--border-color)",textAlign:"center",fontSize:16}},"Gelly",r.createElement(t.br,{style:{borderColor:"var(--border-color)",fontSize:16}})),r.createElement(t.font,{style:{borderColor:"var(--border-color)",textAlign:"center",fontSize:16}},"Graph Processing"))))),r.createElement(t.text,{x:498,y:148,fontFamily:"Helvetica",fontSize:16},"Gelly...")),r.createElement(t.path,{fill:"#fff8e1",stroke:"#424242",d:"M540 160V0h80v160z",pointerEvents:"all"}),r.createElement(t.switch,{transform:"rotate(-90 577 143)"},r.createElement(t.foreignObject,{width:"100%",height:"100%",pointerEvents:"none",requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",style:{overflow:"visible",textAlign:"left"}},r.createElement(t.div,{xmlns:"http://www.w3.org/1999/xhtml",style:{display:"flex",alignItems:"unsafe center",justifyContent:"unsafe flex-start",width:143,height:1,paddingTop:143,marginLeft:578}},r.createElement(t.div,{"data-drawio-colors":"color: rgb(0, 0, 0);",style:{boxSizing:"border-box",fontSize:0,textAlign:"left"}},r.createElement(t.div,{style:{display:"inline-block",fontSize:16,fontFamily:"Helvetica",color:"#000",lineHeight:"1.2",pointerEvents:"all",whiteSpace:"normal",overflowWrap:"normal"}},r.createElement(t.b,{style:{borderColor:"var(--border-color)",textAlign:"center",fontSize:16}},"Table API & SQL",r.createElement(t.br,{style:{borderColor:"var(--border-color)",fontSize:16}})),r.createElement(t.font,{style:{borderColor:"var(--border-color)",textAlign:"center",fontSize:16}},"relational"))))),r.createElement(t.text,{x:578,y:148,fontFamily:"Helvetica",fontSize:16},"Table API & SQL...")),r.createElement(t.switch,null,r.createElement(t.g,{requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility"}),r.createElement(t.a,{xlinkHref:"https://www.drawio.com/doc/faq/svg-export-text-problems",target:"_blank",transform:"translate(0 -5)"},r.createElement(t.text,{x:"50%",y:"100%",fontSize:10,textAnchor:"middle"},"Text is not SVG - cannot display")))),"\n",r.createElement(t.p,null,"Flink Runtime 层的主要架构如下图所示，整体来说，它采用了标准 master-slave 的结构，其中左侧白色圈中的部分即是 master，它负责管理整个集群中的资源和作业；而右侧的两个 TaskExecutor 则是 Slave，负责提供具体的资源并实际执行作业。"),"\n",r.createElement(t.svg,{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:1240,height:640,style:{maxHeight:"100%",maxWidth:"100%"},viewBox:"-0.5 -0.5 1240 640"},r.createElement(t.path,{fill:"none",stroke:"#000",strokeMiterlimit:10,strokeWidth:2,d:"M80 185 233.9 45.53",pointerEvents:"stroke"}),r.createElement(t.path,{stroke:"#000",strokeMiterlimit:10,strokeWidth:2,d:"m238.34 41.5-3.24 8.34-1.2-4.31-4.17-1.62Z",pointerEvents:"all"}),r.createElement(t.path,{fill:"none",stroke:"#000",strokeMiterlimit:10,strokeWidth:2,d:"M160 325h71.76",pointerEvents:"stroke"}),r.createElement(t.path,{stroke:"#000",strokeMiterlimit:10,strokeWidth:2,d:"m237.76 325-8 4 2-4-2-4Z",pointerEvents:"all"}),r.createElement(t.switch,{transform:"translate(-.5 -.5)"},r.createElement(t.foreignObject,{width:"100%",height:"100%",pointerEvents:"none",requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",style:{overflow:"visible",textAlign:"left"}},r.createElement(t.div,{xmlns:"http://www.w3.org/1999/xhtml",style:{display:"flex",alignItems:"unsafe center",justifyContent:"unsafe center",width:1,height:1,paddingTop:312,marginLeft:203}},r.createElement(t.div,{"data-drawio-colors":"color: rgb(0, 0, 0);",style:{boxSizing:"border-box",fontSize:0,textAlign:"center"}},r.createElement(t.div,{style:{display:"inline-block",fontSize:12,fontFamily:"Helvetica",color:"#000",lineHeight:"1.2",pointerEvents:"all",whiteSpace:"nowrap"}},"③Submit Job")))),r.createElement(t.text,{x:203,y:315,fontFamily:"Helvetica",fontSize:12,textAnchor:"middle"},"③Submit Job")),r.createElement(t.rect,{width:160,height:280,y:185,fill:"#009688",pointerEvents:"all",rx:16,ry:16}),r.createElement(t.switch,{transform:"translate(-.5 -.5)"},r.createElement(t.foreignObject,{width:"100%",height:"100%",pointerEvents:"none",requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",style:{overflow:"visible",textAlign:"left"}},r.createElement(t.div,{xmlns:"http://www.w3.org/1999/xhtml",style:{display:"flex",alignItems:"unsafe center",justifyContent:"unsafe center",width:158,height:1,paddingTop:325,marginLeft:1}},r.createElement(t.div,{"data-drawio-colors":"color: #FFFFFF;",style:{boxSizing:"border-box",fontSize:0,textAlign:"center"}},r.createElement(t.div,{style:{display:"inline-block",fontSize:20,fontFamily:"Helvetica",color:"#fff",lineHeight:"1.2",pointerEvents:"all",whiteSpace:"normal",overflowWrap:"normal"}},"Client")))),r.createElement(t.text,{x:80,y:331,fill:"#FFF",fontFamily:"Helvetica",fontSize:20,textAnchor:"middle"},"Client")),r.createElement(t.path,{fill:"none",stroke:"#000",strokeMiterlimit:10,strokeWidth:2,d:"M470.17 80v9.85l-.15 61.91",pointerEvents:"stroke"}),r.createElement(t.path,{stroke:"#000",strokeMiterlimit:10,strokeWidth:2,d:"m470.01 157.76-3.99-8.01 4 2.01 4-1.99Z",pointerEvents:"all"}),r.createElement(t.switch,{transform:"translate(-.5 -.5)"},r.createElement(t.foreignObject,{width:"100%",height:"100%",pointerEvents:"none",requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",style:{overflow:"visible",textAlign:"left"}},r.createElement(t.div,{xmlns:"http://www.w3.org/1999/xhtml",style:{display:"flex",alignItems:"unsafe center",justifyContent:"unsafe center",width:1,height:1,paddingTop:111,marginLeft:422}},r.createElement(t.div,{"data-drawio-colors":"color: rgb(0, 0, 0);",style:{boxSizing:"border-box",fontSize:0,textAlign:"center"}},r.createElement(t.div,{style:{display:"inline-block",fontSize:12,fontFamily:"Helvetica",color:"#000",lineHeight:"1.2",pointerEvents:"all",whiteSpace:"nowrap"}},"②Launch AM")))),r.createElement(t.text,{x:422,y:115,fontFamily:"Helvetica",fontSize:12,textAnchor:"middle"},"②Launch AM")),r.createElement(t.path,{fill:"none",stroke:"#000",strokeMiterlimit:10,strokeWidth:2,d:"M889.89 80v49.98l.08 21.78",pointerEvents:"stroke"}),r.createElement(t.path,{stroke:"#000",strokeMiterlimit:10,strokeWidth:2,d:"m889.99 157.76-4.03-7.98 4.01 1.98 3.99-2.01Z",pointerEvents:"all"}),r.createElement(t.switch,{transform:"translate(-.5 -.5)"},r.createElement(t.foreignObject,{width:"100%",height:"100%",pointerEvents:"none",requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",style:{overflow:"visible",textAlign:"left"}},r.createElement(t.div,{xmlns:"http://www.w3.org/1999/xhtml",style:{display:"flex",alignItems:"unsafe center",justifyContent:"unsafe center",width:1,height:1,paddingTop:112,marginLeft:1022}},r.createElement(t.div,{"data-drawio-colors":"color: rgb(0, 0, 0);",style:{boxSizing:"border-box",fontSize:0,textAlign:"center"}},r.createElement(t.div,{style:{display:"inline-block",fontSize:12,fontFamily:"Helvetica",color:"#000",lineHeight:"1.2",pointerEvents:"all",whiteSpace:"nowrap"}},"⑦Spawn TM")))),r.createElement(t.text,{x:1022,y:115,fontFamily:"Helvetica",fontSize:12,textAnchor:"middle"},"⑦Spawn TM")),r.createElement(t.rect,{width:1e3,height:80,x:240,fill:"#2196f3",pointerEvents:"all",rx:8,ry:8}),r.createElement(t.switch,{transform:"translate(-.5 -.5)"},r.createElement(t.foreignObject,{width:"100%",height:"100%",pointerEvents:"none",requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",style:{overflow:"visible",textAlign:"left"}},r.createElement(t.div,{xmlns:"http://www.w3.org/1999/xhtml",style:{display:"flex",alignItems:"unsafe center",justifyContent:"unsafe center",width:998,height:1,paddingTop:40,marginLeft:241}},r.createElement(t.div,{"data-drawio-colors":"color: #FFFFFF;",style:{boxSizing:"border-box",fontSize:0,textAlign:"center"}},r.createElement(t.div,{style:{display:"inline-block",fontSize:18,fontFamily:"Helvetica",color:"#fff",lineHeight:"1.2",pointerEvents:"all",whiteSpace:"normal",overflowWrap:"normal"}},"Cluster Management",r.createElement(t.br),r.createElement(t.font,{style:{fontSize:16}},"(Standalone、YARN、Mesos、K8S)"))))),r.createElement(t.text,{x:740,y:45,fill:"#FFF",fontFamily:"Helvetica",fontSize:18,textAnchor:"middle"},"Cluster Management...")),r.createElement(t.rect,{width:460,height:330,x:240,y:160,fill:"#ffb74d",pointerEvents:"all",rx:33,ry:33}),r.createElement(t.switch,{transform:"translate(-.5 -.5)"},r.createElement(t.foreignObject,{width:"100%",height:"100%",pointerEvents:"none",requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",style:{overflow:"visible",textAlign:"left"}},r.createElement(t.div,{xmlns:"http://www.w3.org/1999/xhtml",style:{display:"flex",alignItems:"unsafe flex-start",justifyContent:"unsafe center",width:458,height:1,paddingTop:167,marginLeft:241}},r.createElement(t.div,{"data-drawio-colors":"color: #FFFFFF;",style:{boxSizing:"border-box",fontSize:0,textAlign:"center"}},r.createElement(t.div,{style:{display:"inline-block",fontSize:18,fontFamily:"Helvetica",color:"#fff",lineHeight:"1.2",pointerEvents:"all",whiteSpace:"normal",overflowWrap:"normal"}},"ApplicationMaster")))),r.createElement(t.text,{x:470,y:185,fill:"#FFF",fontFamily:"Helvetica",fontSize:18,textAnchor:"middle"},"ApplicationMaster")),r.createElement(t.path,{fill:"none",stroke:"#000",strokeMiterlimit:10,strokeWidth:2,d:"M350 400.03h39.91l31.85-.02",pointerEvents:"stroke"}),r.createElement(t.path,{stroke:"#000",strokeMiterlimit:10,strokeWidth:2,d:"m427.76 400-7.99 4.01 1.99-4-2-4Z",pointerEvents:"all"}),r.createElement(t.switch,{transform:"translate(-.5 -.5)"},r.createElement(t.foreignObject,{width:"100%",height:"100%",pointerEvents:"none",requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",style:{overflow:"visible",textAlign:"left"}},r.createElement(t.div,{xmlns:"http://www.w3.org/1999/xhtml",style:{display:"flex",alignItems:"unsafe center",justifyContent:"unsafe center",width:1,height:1,paddingTop:392,marginLeft:384}},r.createElement(t.div,{"data-drawio-colors":"color: rgb(0, 0, 0);",style:{boxSizing:"border-box",fontSize:0,textAlign:"center"}},r.createElement(t.div,{style:{display:"inline-block",fontSize:11,fontFamily:"Helvetica",color:"#000",lineHeight:"1.2",pointerEvents:"all",whiteSpace:"nowrap"}},"④SpawnJM")))),r.createElement(t.text,{x:384,y:395,fontFamily:"Helvetica",fontSize:11,textAnchor:"middle"},"④SpawnJM")),r.createElement(t.rect,{width:100,height:270,x:250,y:200,fill:"#ff9800",pointerEvents:"all",rx:10,ry:10}),r.createElement(t.switch,{transform:"translate(-.5 -.5)"},r.createElement(t.foreignObject,{width:"100%",height:"100%",pointerEvents:"none",requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",style:{overflow:"visible",textAlign:"left"}},r.createElement(t.div,{xmlns:"http://www.w3.org/1999/xhtml",style:{display:"flex",alignItems:"unsafe center",justifyContent:"unsafe center",width:98,height:1,paddingTop:335,marginLeft:251}},r.createElement(t.div,{"data-drawio-colors":"color: #FFFFFF;",style:{boxSizing:"border-box",fontSize:0,textAlign:"center"}},r.createElement(t.div,{style:{display:"inline-block",fontSize:16,fontFamily:"Helvetica",color:"#fff",lineHeight:"1.2",pointerEvents:"all",whiteSpace:"normal",overflowWrap:"normal"}},"Dispatcher")))),r.createElement(t.text,{x:300,y:340,fill:"#FFF",fontFamily:"Helvetica",fontSize:16,textAnchor:"middle"},"Dispatcher")),r.createElement(t.rect,{width:250,height:80,x:430,y:200,fill:"#ff9800",pointerEvents:"all",rx:8,ry:8}),r.createElement(t.switch,{transform:"translate(-.5 -.5)"},r.createElement(t.foreignObject,{width:"100%",height:"100%",pointerEvents:"none",requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",style:{overflow:"visible",textAlign:"left"}},r.createElement(t.div,{xmlns:"http://www.w3.org/1999/xhtml",style:{display:"flex",alignItems:"unsafe center",justifyContent:"unsafe center",width:248,height:1,paddingTop:240,marginLeft:431}},r.createElement(t.div,{"data-drawio-colors":"color: #FFFFFF;",style:{boxSizing:"border-box",fontSize:0,textAlign:"center"}},r.createElement(t.div,{style:{display:"inline-block",fontSize:16,fontFamily:"Helvetica",color:"#fff",lineHeight:"1.2",pointerEvents:"all",whiteSpace:"normal",overflowWrap:"normal"}},"ResourceManager")))),r.createElement(t.text,{x:555,y:245,fill:"#FFF",fontFamily:"Helvetica",fontSize:16,textAnchor:"middle"},"ResourceManager")),r.createElement(t.path,{fill:"none",stroke:"#000",strokeMiterlimit:10,strokeWidth:2,d:"M555 330v-41.76",pointerEvents:"stroke"}),r.createElement(t.path,{stroke:"#000",strokeMiterlimit:10,strokeWidth:2,d:"m555 282.24 4 8-4-2-4 2Z",pointerEvents:"all"}),r.createElement(t.switch,{transform:"translate(-.5 -.5)"},r.createElement(t.foreignObject,{width:"100%",height:"100%",pointerEvents:"none",requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",style:{overflow:"visible",textAlign:"left"}},r.createElement(t.div,{xmlns:"http://www.w3.org/1999/xhtml",style:{display:"flex",alignItems:"unsafe center",justifyContent:"unsafe center",width:1,height:1,paddingTop:307,marginLeft:602}},r.createElement(t.div,{"data-drawio-colors":"color: rgb(0, 0, 0);",style:{boxSizing:"border-box",fontSize:0,textAlign:"center"}},r.createElement(t.div,{style:{display:"inline-block",fontSize:11,fontFamily:"Helvetica",color:"#000",lineHeight:"1.2",pointerEvents:"all",whiteSpace:"nowrap"}},"⑤Request Slot")))),r.createElement(t.text,{x:602,y:310,fontFamily:"Helvetica",fontSize:11,textAnchor:"middle"},"⑤Request Slot")),r.createElement(t.rect,{width:250,height:140,x:430,y:330,fill:"#ff9800",pointerEvents:"all",rx:14,ry:14}),r.createElement(t.switch,{transform:"translate(-.5 -.5)"},r.createElement(t.foreignObject,{width:"100%",height:"100%",pointerEvents:"none",requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",style:{overflow:"visible",textAlign:"left"}},r.createElement(t.div,{xmlns:"http://www.w3.org/1999/xhtml",style:{display:"flex",alignItems:"unsafe flex-start",justifyContent:"unsafe center",width:248,height:1,paddingTop:337,marginLeft:431}},r.createElement(t.div,{"data-drawio-colors":"color: #FFFFFF;",style:{boxSizing:"border-box",fontSize:0,textAlign:"center"}},r.createElement(t.div,{style:{display:"inline-block",fontSize:16,fontFamily:"Helvetica",color:"#fff",lineHeight:"1.2",pointerEvents:"all",whiteSpace:"normal",overflowWrap:"normal"}},"JobManager")))),r.createElement(t.text,{x:555,y:353,fill:"#FFF",fontFamily:"Helvetica",fontSize:16,textAnchor:"middle"},"JobManager")),r.createElement(t.rect,{width:210,height:70,x:450,y:380,fill:"none",stroke:"#000",strokeDasharray:"12 12",pointerEvents:"all",rx:7,ry:7}),r.createElement(t.switch,{transform:"translate(-.5 -.5)"},r.createElement(t.foreignObject,{width:"100%",height:"100%",pointerEvents:"none",requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",style:{overflow:"visible",textAlign:"left"}},r.createElement(t.div,{xmlns:"http://www.w3.org/1999/xhtml",style:{display:"flex",alignItems:"unsafe flex-start",justifyContent:"unsafe center",width:208,height:1,paddingTop:387,marginLeft:451}},r.createElement(t.div,{"data-drawio-colors":"color: #FFFFFF;",style:{boxSizing:"border-box",fontSize:0,textAlign:"center"}},r.createElement(t.div,{style:{display:"inline-block",fontSize:14,fontFamily:"Helvetica",color:"#fff",lineHeight:"1.2",pointerEvents:"all",whiteSpace:"normal",overflowWrap:"normal"}},"JobGraph")))),r.createElement(t.text,{x:555,y:401,fill:"#FFF",fontFamily:"Helvetica",fontSize:14,textAnchor:"middle"},"JobGraph")),r.createElement(t.circle,{cx:"492.5",cy:"428.5",r:"12.5",fill:"#bdbdbd",stroke:"#000",pointerEvents:"all"}),r.createElement(t.path,{fill:"#bdbdbd",d:"M530 426c0-5.52 4.48-10 10-10h30c5.52 0 10 4.48 10 10v5c0 5.52-4.48 10-10 10h-30c-5.52 0-10-4.48-10-10z",pointerEvents:"all"}),r.createElement(t.path,{fill:"none",d:"M532 427v3a9 9 0 0 0 9 9h28a9 9 0 0 0 9-9v-3a9 9 0 0 0-9-9h-28a9 9 0 0 0-9 9",pointerEvents:"all"}),r.createElement(t.path,{fill:"none",stroke:"#000",strokeMiterlimit:10,d:"M530 426c0-5.52 4.48-10 10-10h30c5.52 0 10 4.48 10 10v5c0 5.52-4.48 10-10 10h-30c-5.52 0-10-4.48-10-10z",pointerEvents:"all"}),r.createElement(t.circle,{cx:"622.5",cy:428,r:"12.5",fill:"#bdbdbd",stroke:"#000",strokeWidth:3,pointerEvents:"all"}),r.createElement(t.path,{fill:"none",stroke:"#000",strokeMiterlimit:10,d:"M505 428.59h20.12-15.18l13.69-.06",pointerEvents:"stroke"}),r.createElement(t.path,{stroke:"#000",strokeMiterlimit:10,d:"m528.88 428.51-6.98 3.53 1.73-3.51-1.76-3.49Z",pointerEvents:"all"}),r.createElement(t.path,{fill:"none",stroke:"#000",strokeMiterlimit:10,d:"M580 428.59h19.95l3.69-.21",pointerEvents:"stroke"}),r.createElement(t.path,{stroke:"#000",strokeMiterlimit:10,d:"m608.88 428.07-6.78 3.9 1.54-3.59-1.95-3.39Z",pointerEvents:"all"}),r.createElement(t.path,{fill:"none",stroke:"#000",strokeMiterlimit:10,strokeWidth:2,d:"M998.24 325h33.52",pointerEvents:"stroke"}),r.createElement(t.path,{stroke:"#000",strokeMiterlimit:10,strokeWidth:2,d:"m992.24 325 8-4-2 4 2 4Zm45.52 0-8 4 2-4-2-4Z",pointerEvents:"all"}),r.createElement(t.switch,{transform:"translate(-.5 -.5)"},r.createElement(t.foreignObject,{width:"100%",height:"100%",pointerEvents:"none",requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",style:{overflow:"visible",textAlign:"left"}},r.createElement(t.div,{xmlns:"http://www.w3.org/1999/xhtml",style:{display:"flex",alignItems:"unsafe center",justifyContent:"unsafe center",width:1,height:1,paddingTop:312,marginLeft:1017}},r.createElement(t.div,{"data-drawio-colors":"color: rgb(0, 0, 0);",style:{boxSizing:"border-box",fontSize:0,textAlign:"center"}},r.createElement(t.div,{style:{display:"inline-block",fontSize:12,fontFamily:"Helvetica",color:"#000",lineHeight:"1.2",pointerEvents:"all",whiteSpace:"nowrap"}},"Shuffle")))),r.createElement(t.text,{x:1017,y:315,fontFamily:"Helvetica",fontSize:12,textAnchor:"middle"},"Shuffle")),r.createElement(t.path,{fill:"none",stroke:"#000",strokeMiterlimit:10,strokeWidth:2,d:"M790 400.03H688.24",pointerEvents:"stroke"}),r.createElement(t.path,{stroke:"#000",strokeMiterlimit:10,strokeWidth:2,d:"m682.24 400.03 8-4-2 4 2 4Z",pointerEvents:"all"}),r.createElement(t.switch,{transform:"translate(-.5 -.5)"},r.createElement(t.foreignObject,{width:"100%",height:"100%",pointerEvents:"none",requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",style:{overflow:"visible",textAlign:"left"}},r.createElement(t.div,{xmlns:"http://www.w3.org/1999/xhtml",style:{display:"flex",alignItems:"unsafe center",justifyContent:"unsafe center",width:1,height:1,paddingTop:392,marginLeft:740}},r.createElement(t.div,{"data-drawio-colors":"color: rgb(0, 0, 0);",style:{boxSizing:"border-box",fontSize:0,textAlign:"center"}},r.createElement(t.div,{style:{display:"inline-block",fontSize:12,fontFamily:"Helvetica",color:"#000",lineHeight:"1.2",pointerEvents:"all",whiteSpace:"nowrap"}},"⑨Offer Slot")))),r.createElement(t.text,{x:740,y:395,fontFamily:"Helvetica",fontSize:12,textAnchor:"middle"},"⑨Offer Slot")),r.createElement(t.rect,{width:200,height:330,x:790,y:160,fill:"#ffb74d",pointerEvents:"all",rx:20,ry:20}),r.createElement(t.switch,{transform:"translate(-.5 -.5)"},r.createElement(t.foreignObject,{width:"100%",height:"100%",pointerEvents:"none",requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",style:{overflow:"visible",textAlign:"left"}},r.createElement(t.div,{xmlns:"http://www.w3.org/1999/xhtml",style:{display:"flex",alignItems:"unsafe flex-start",justifyContent:"unsafe center",width:198,height:1,paddingTop:167,marginLeft:791}},r.createElement(t.div,{"data-drawio-colors":"color: #FFFFFF;",style:{boxSizing:"border-box",fontSize:0,textAlign:"center"}},r.createElement(t.div,{style:{display:"inline-block",fontSize:18,fontFamily:"Helvetica",color:"#fff",lineHeight:"1.2",pointerEvents:"all",whiteSpace:"normal",overflowWrap:"normal"}},"TaskManager")))),r.createElement(t.text,{x:890,y:185,fill:"#FFF",fontFamily:"Helvetica",fontSize:18,textAnchor:"middle"},"TaskManager")),r.createElement(t.rect,{width:160,height:85,x:810,y:360,fill:"#ff9800",pointerEvents:"all",rx:"8.5",ry:"8.5"}),r.createElement(t.switch,{transform:"translate(-.5 -.5)"},r.createElement(t.foreignObject,{width:"100%",height:"100%",pointerEvents:"none",requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",style:{overflow:"visible",textAlign:"left"}},r.createElement(t.div,{xmlns:"http://www.w3.org/1999/xhtml",style:{display:"flex",alignItems:"unsafe center",justifyContent:"unsafe center",width:158,height:1,paddingTop:403,marginLeft:811}},r.createElement(t.div,{"data-drawio-colors":"color: #FFFFFF;",style:{boxSizing:"border-box",fontSize:0,textAlign:"center"}},r.createElement(t.div,{style:{display:"inline-block",fontSize:18,fontFamily:"Helvetica",color:"#fff",lineHeight:"1.2",pointerEvents:"all",whiteSpace:"normal",overflowWrap:"normal"}},"StateBackend",r.createElement(t.br),r.createElement(t.font,{style:{fontSize:16}},"(Heap、Rocksdb)"))))),r.createElement(t.text,{x:890,y:408,fill:"#FFF",fontFamily:"Helvetica",fontSize:18,textAnchor:"middle"},"StateBackend...")),r.createElement(t.path,{fill:"#f57c00",stroke:"#000",d:"M820 240h120v60H820z",pointerEvents:"all"}),r.createElement(t.path,{fill:"#f57c00",stroke:"#000",d:"M830 230h120v60H830z",pointerEvents:"all"}),r.createElement(t.path,{fill:"#f57c00",stroke:"#000",d:"M840 220h120v60H840z",pointerEvents:"all"}),r.createElement(t.switch,{transform:"translate(-.5 -.5)"},r.createElement(t.foreignObject,{width:"100%",height:"100%",pointerEvents:"none",requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",style:{overflow:"visible",textAlign:"left"}},r.createElement(t.div,{xmlns:"http://www.w3.org/1999/xhtml",style:{display:"flex",alignItems:"unsafe center",justifyContent:"unsafe center",width:118,height:1,paddingTop:250,marginLeft:841}},r.createElement(t.div,{"data-drawio-colors":"color: #FFFFFF;",style:{boxSizing:"border-box",fontSize:0,textAlign:"center"}},r.createElement(t.div,{style:{display:"inline-block",fontSize:16,fontFamily:"Helvetica",color:"#fff",lineHeight:"1.2",pointerEvents:"all",whiteSpace:"normal",overflowWrap:"normal"}},"Tasks")))),r.createElement(t.text,{x:900,y:255,fill:"#FFF",fontFamily:"Helvetica",fontSize:16,textAnchor:"middle"},"Tasks")),r.createElement(t.rect,{width:200,height:330,x:1040,y:160,fill:"#ffb74d",pointerEvents:"all",rx:20,ry:20}),r.createElement(t.switch,{transform:"translate(-.5 -.5)"},r.createElement(t.foreignObject,{width:"100%",height:"100%",pointerEvents:"none",requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",style:{overflow:"visible",textAlign:"left"}},r.createElement(t.div,{xmlns:"http://www.w3.org/1999/xhtml",style:{display:"flex",alignItems:"unsafe flex-start",justifyContent:"unsafe center",width:198,height:1,paddingTop:167,marginLeft:1041}},r.createElement(t.div,{"data-drawio-colors":"color: #FFFFFF;",style:{boxSizing:"border-box",fontSize:0,textAlign:"center"}},r.createElement(t.div,{style:{display:"inline-block",fontSize:18,fontFamily:"Helvetica",color:"#fff",lineHeight:"1.2",pointerEvents:"all",whiteSpace:"normal",overflowWrap:"normal"}},"TaskManager")))),r.createElement(t.text,{x:1140,y:185,fill:"#FFF",fontFamily:"Helvetica",fontSize:18,textAnchor:"middle"},"TaskManager")),r.createElement(t.rect,{width:160,height:85,x:1060,y:360,fill:"#ff9800",pointerEvents:"all",rx:"8.5",ry:"8.5"}),r.createElement(t.switch,{transform:"translate(-.5 -.5)"},r.createElement(t.foreignObject,{width:"100%",height:"100%",pointerEvents:"none",requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",style:{overflow:"visible",textAlign:"left"}},r.createElement(t.div,{xmlns:"http://www.w3.org/1999/xhtml",style:{display:"flex",alignItems:"unsafe center",justifyContent:"unsafe center",width:158,height:1,paddingTop:403,marginLeft:1061}},r.createElement(t.div,{"data-drawio-colors":"color: #FFFFFF;",style:{boxSizing:"border-box",fontSize:0,textAlign:"center"}},r.createElement(t.div,{style:{display:"inline-block",fontSize:18,fontFamily:"Helvetica",color:"#fff",lineHeight:"1.2",pointerEvents:"all",whiteSpace:"normal",overflowWrap:"normal"}},"StateBackend",r.createElement(t.br),r.createElement(t.font,{style:{fontSize:16}},"(Heap、Rocksdb)"))))),r.createElement(t.text,{x:1140,y:408,fill:"#FFF",fontFamily:"Helvetica",fontSize:18,textAnchor:"middle"},"StateBackend...")),r.createElement(t.path,{fill:"#f57c00",stroke:"#000",d:"M1070 240h120v60h-120z",pointerEvents:"all"}),r.createElement(t.path,{fill:"#f57c00",stroke:"#000",d:"M1080 230h120v60h-120z",pointerEvents:"all"}),r.createElement(t.path,{fill:"#f57c00",stroke:"#000",d:"M1090 220h120v60h-120z",pointerEvents:"all"}),r.createElement(t.switch,{transform:"translate(-.5 -.5)"},r.createElement(t.foreignObject,{width:"100%",height:"100%",pointerEvents:"none",requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",style:{overflow:"visible",textAlign:"left"}},r.createElement(t.div,{xmlns:"http://www.w3.org/1999/xhtml",style:{display:"flex",alignItems:"unsafe center",justifyContent:"unsafe center",width:118,height:1,paddingTop:250,marginLeft:1091}},r.createElement(t.div,{"data-drawio-colors":"color: #FFFFFF;",style:{boxSizing:"border-box",fontSize:0,textAlign:"center"}},r.createElement(t.div,{style:{display:"inline-block",fontSize:16,fontFamily:"Helvetica",color:"#fff",lineHeight:"1.2",pointerEvents:"all",whiteSpace:"normal",overflowWrap:"normal"}},"Tasks")))),r.createElement(t.text,{x:1150,y:255,fill:"#FFF",fontFamily:"Helvetica",fontSize:16,textAnchor:"middle"},"Tasks")),r.createElement(t.rect,{width:1e3,height:80,x:240,y:560,fill:"#757575",pointerEvents:"all",rx:8,ry:8}),r.createElement(t.switch,{transform:"translate(-.5 -.5)"},r.createElement(t.foreignObject,{width:"100%",height:"100%",pointerEvents:"none",requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",style:{overflow:"visible",textAlign:"left"}},r.createElement(t.div,{xmlns:"http://www.w3.org/1999/xhtml",style:{display:"flex",alignItems:"unsafe center",justifyContent:"unsafe center",width:998,height:1,paddingTop:600,marginLeft:241}},r.createElement(t.div,{"data-drawio-colors":"color: #FFFFFF;",style:{boxSizing:"border-box",fontSize:0,textAlign:"center"}},r.createElement(t.div,{style:{display:"inline-block",fontSize:18,fontFamily:"Helvetica",color:"#fff",lineHeight:"1.2",pointerEvents:"all",whiteSpace:"normal",overflowWrap:"normal"}},"Storage",r.createElement(t.br),r.createElement(t.font,{style:{fontSize:16}},"(Zookeeper、FileSystem、Rocksdb)"))))),r.createElement(t.text,{x:740,y:605,fill:"#FFF",fontFamily:"Helvetica",fontSize:18,textAnchor:"middle"},"Storage...")),r.createElement(t.path,{fill:"none",stroke:"#000",strokeMiterlimit:10,strokeWidth:2,d:"m555.01 478.24.12 71.82v1.7",pointerEvents:"stroke"}),r.createElement(t.path,{stroke:"#000",strokeMiterlimit:10,strokeWidth:2,d:"m555 472.24 4.02 7.99-4.01-1.99-3.99 2Zm.13 85.52-4-8 4 2 4-2Z",pointerEvents:"all"}),r.createElement(t.switch,{transform:"translate(-.5 -.5)"},r.createElement(t.foreignObject,{width:"100%",height:"100%",pointerEvents:"none",requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",style:{overflow:"visible",textAlign:"left"}},r.createElement(t.div,{xmlns:"http://www.w3.org/1999/xhtml",style:{display:"flex",alignItems:"unsafe center",justifyContent:"unsafe center",width:1,height:1,paddingTop:523,marginLeft:582}},r.createElement(t.div,{"data-drawio-colors":"color: rgb(0, 0, 0);",style:{boxSizing:"border-box",fontSize:0,textAlign:"center"}},r.createElement(t.div,{style:{display:"inline-block",fontSize:12,fontFamily:"Helvetica",color:"#000",lineHeight:"1.2",pointerEvents:"all",whiteSpace:"nowrap"}},"Meta")))),r.createElement(t.text,{x:582,y:526,fontFamily:"Helvetica",fontSize:12,textAnchor:"middle"},"Meta")),r.createElement(t.path,{fill:"none",stroke:"#000",strokeMiterlimit:10,strokeWidth:2,d:"M890 453.24v98.52",pointerEvents:"stroke"}),r.createElement(t.path,{stroke:"#000",strokeMiterlimit:10,strokeWidth:2,d:"m890 447.24 4 8-4-2-4 2Zm0 110.52-4-8 4 2 4-2Z",pointerEvents:"all"}),r.createElement(t.path,{fill:"none",stroke:"#000",strokeMiterlimit:10,strokeWidth:2,d:"m1140 453.24.06 96.82v1.7",pointerEvents:"stroke"}),r.createElement(t.path,{stroke:"#000",strokeMiterlimit:10,strokeWidth:2,d:"m1140 447.24 4.01 7.99-4.01-1.99-3.99 2Zm.06 110.52-4-8 4 2 4-2Z",pointerEvents:"all"}),r.createElement(t.path,{fill:"none",stroke:"#000",strokeMiterlimit:10,strokeWidth:2,d:"m555 200 .13-100.02V88.24",pointerEvents:"stroke"}),r.createElement(t.path,{stroke:"#000",strokeMiterlimit:10,strokeWidth:2,d:"m555.13 82.24 4 8-4-2-4 2Z",pointerEvents:"all"}),r.createElement(t.switch,{transform:"translate(-.5 -.5)"},r.createElement(t.foreignObject,{width:"100%",height:"100%",pointerEvents:"none",requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",style:{overflow:"visible",textAlign:"left"}},r.createElement(t.div,{xmlns:"http://www.w3.org/1999/xhtml",style:{display:"flex",alignItems:"unsafe center",justifyContent:"unsafe center",width:1,height:1,paddingTop:115,marginLeft:622}},r.createElement(t.div,{"data-drawio-colors":"color: rgb(0, 0, 0);",style:{boxSizing:"border-box",fontSize:0,textAlign:"center"}},r.createElement(t.div,{style:{display:"inline-block",fontSize:12,fontFamily:"Helvetica",color:"#000",lineHeight:"1.2",pointerEvents:"all",whiteSpace:"nowrap"}},"⑥Allocate Resource")))),r.createElement(t.text,{x:622,y:119,fontFamily:"Helvetica",fontSize:12,textAnchor:"middle"},"⑥Allocate Resource")),r.createElement(t.path,{fill:"none",stroke:"#000",strokeMiterlimit:10,strokeWidth:2,d:"M1140.06 80v9.85l-.05 61.91",pointerEvents:"stroke"}),r.createElement(t.path,{stroke:"#000",strokeMiterlimit:10,strokeWidth:2,d:"m1140 157.76-3.99-8 4 2 4-1.99Z",pointerEvents:"all"}),r.createElement(t.path,{fill:"none",stroke:"#000",strokeMiterlimit:10,strokeWidth:2,d:"m680 240 69.98-.12h31.78",pointerEvents:"stroke"}),r.createElement(t.path,{stroke:"#000",strokeMiterlimit:10,strokeWidth:2,d:"m787.76 239.88-8 4 2-4-2-4Z",pointerEvents:"all"}),r.createElement(t.switch,{transform:"translate(-.5 -.5)"},r.createElement(t.foreignObject,{width:"100%",height:"100%",pointerEvents:"none",requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",style:{overflow:"visible",textAlign:"left"}},r.createElement(t.div,{xmlns:"http://www.w3.org/1999/xhtml",style:{display:"flex",alignItems:"unsafe center",justifyContent:"unsafe center",width:1,height:1,paddingTop:229,marginLeft:745}},r.createElement(t.div,{"data-drawio-colors":"color: rgb(0, 0, 0);",style:{boxSizing:"border-box",fontSize:0,textAlign:"center"}},r.createElement(t.div,{style:{display:"inline-block",fontSize:12,fontFamily:"Helvetica",color:"#000",lineHeight:"1.2",pointerEvents:"all",whiteSpace:"nowrap"}},"⑧Request Slot")))),r.createElement(t.text,{x:745,y:232,fontFamily:"Helvetica",fontSize:12,textAnchor:"middle"},"⑧Request Slot")),r.createElement(t.path,{fill:"none",stroke:"#000",strokeMiterlimit:10,strokeWidth:2,d:"M680 440.16h101.76",pointerEvents:"stroke"}),r.createElement(t.path,{stroke:"#000",strokeMiterlimit:10,strokeWidth:2,d:"m787.76 440.16-8 4 2-4-2-4Z",pointerEvents:"all"}),r.createElement(t.switch,{transform:"translate(-.5 -.5)"},r.createElement(t.foreignObject,{width:"100%",height:"100%",pointerEvents:"none",requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",style:{overflow:"visible",textAlign:"left"}},r.createElement(t.div,{xmlns:"http://www.w3.org/1999/xhtml",style:{display:"flex",alignItems:"unsafe center",justifyContent:"unsafe center",width:1,height:1,paddingTop:431,marginLeft:743}},r.createElement(t.div,{"data-drawio-colors":"color: rgb(0, 0, 0);",style:{boxSizing:"border-box",fontSize:0,textAlign:"center"}},r.createElement(t.div,{style:{display:"inline-block",fontSize:12,fontFamily:"Helvetica",color:"#000",lineHeight:"1.2",pointerEvents:"all",whiteSpace:"nowrap"}},"⑩Submit Task")))),r.createElement(t.text,{x:743,y:435,fontFamily:"Helvetica",fontSize:12,textAnchor:"middle"},"⑩Submit Task")),r.createElement(t.path,{fill:"none",d:"M940 520h130v30H940z",pointerEvents:"all"}),r.createElement(t.switch,{transform:"translate(-.5 -.5)"},r.createElement(t.foreignObject,{width:"100%",height:"100%",pointerEvents:"none",requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",style:{overflow:"visible",textAlign:"left"}},r.createElement(t.div,{xmlns:"http://www.w3.org/1999/xhtml",style:{display:"flex",alignItems:"unsafe center",justifyContent:"unsafe center",width:1,height:1,paddingTop:535,marginLeft:1005}},r.createElement(t.div,{"data-drawio-colors":"color: rgb(0, 0, 0);",style:{boxSizing:"border-box",fontSize:0,textAlign:"center"}},r.createElement(t.div,{style:{display:"inline-block",fontSize:12,fontFamily:"Helvetica",color:"#000",lineHeight:"1.2",pointerEvents:"all",whiteSpace:"nowrap"}},"Snapshot / Recovery")))),r.createElement(t.text,{x:1005,y:539,fontFamily:"Helvetica",fontSize:12,textAnchor:"middle"},"Snapshot / Recovery")),r.createElement(t.switch,{transform:"rotate(-45 141.703 110.354)"},r.createElement(t.foreignObject,{width:"100%",height:"100%",pointerEvents:"none",requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility",style:{overflow:"visible",textAlign:"left"}},r.createElement(t.div,{xmlns:"http://www.w3.org/1999/xhtml",style:{display:"flex",alignItems:"unsafe center",justifyContent:"unsafe center",width:1,height:1,paddingTop:110,marginLeft:143}},r.createElement(t.div,{"data-drawio-colors":"color: rgb(0, 0, 0);",style:{boxSizing:"border-box",fontSize:0,textAlign:"center"}},r.createElement(t.div,{style:{display:"inline-block",fontSize:12,fontFamily:"Helvetica",color:"#000",lineHeight:"1.2",pointerEvents:"all",whiteSpace:"nowrap"}},r.createElement(t.span,{style:{fontSize:16}},"①Submit App"))))),r.createElement(t.text,{x:143,y:114,fontFamily:"Helvetica",fontSize:12,textAnchor:"middle"},"①Submit App")),r.createElement(t.switch,null,r.createElement(t.g,{requiredFeatures:"http://www.w3.org/TR/SVG11/feature#Extensibility"}),r.createElement(t.a,{xlinkHref:"https://www.drawio.com/doc/faq/svg-export-text-problems",target:"_blank",transform:"translate(0 -5)"},r.createElement(t.text,{x:"50%",y:"100%",fontSize:10,textAnchor:"middle"},"Text is not SVG - cannot display")))),"\n",r.createElement(t.p,null,"其中，Master 部分又包含了三个组件，即 Dispatcher、ResourceManager 和 JobManager。其中，Dispatcher 负责接收用户提供的作业，并且负责为这个新提交的作业拉起一个新的 JobManager 组件。ResourceManager 负责资源的管理，在整个 Flink 集群中只有一个 ResourceManager。JobManager 负责管理作业的执行，在一个 Flink 集群中可能有多个作业同时执行，每个作业都有自己的 JobManager 组件。这三个组件都包含在 AppMaster 进程中。"),"\n",r.createElement(t.p,null,"基于上述结构，当用户提交作业的时候，提交脚本会首先启动一个 Client进程负责作业的编译与提交。它首先将用户编写的代码编译为一个 JobGraph，在这个过程，它还会进行一些检查或优化等工作，例如判断哪些 Operator 可以 Chain 到同一个 Task 中。然后，Client 将产生的 JobGraph 提交到集群中执行。此时有两种情况，一种是类似于 Standalone 这种 Session 模式，AM 会预先启动，此时 Client 直接与 Dispatcher 建立连接并提交作业即可。另一种是 Per-Job 模式，AM 不会预先启动，此时 Client 将首先向资源管理系统 （如Yarn、K8S）申请资源来启动 AM，然后再向 AM 中的 Dispatcher 提交作业。"),"\n",r.createElement(t.p,null,"当作业到 Dispatcher 后，Dispatcher 会首先启动一个 JobManager 组件，然后 JobManager 会向 ResourceManager 申请资源来启动作业中具体的任务。这时根据 Session 和 Per-Job 模式的区别， TaskExecutor 可能已经启动或者尚未启动。如果是前者，此时 ResourceManager 中已有记录了 TaskExecutor 注册的资源，可以直接选取空闲资源进行分配。否则，ResourceManager 也需要首先向外部资源管理系统申请资源来启动 TaskExecutor，然后等待 TaskExecutor 注册相应资源后再继续选择空闲资源进程分配。目前 Flink 中 TaskExecutor 的资源是通过 Slot 来描述的，一个 Slot 一般可以执行一个具体的 Task，但在一些情况下也可以执行多个相关联的 Task，这部分内容将在下文进行详述。ResourceManager 选择到空闲的 Slot 之后，就会通知相应的 TM “将该 Slot 分配分 JobManager XX ”，然后 TaskExecutor 进行相应的记录后，会向 JobManager 进行注册。JobManager 收到 TaskExecutor 注册上来的 Slot 后，就可以实际提交 Task 了。"),"\n",r.createElement(t.p,null,"TaskExecutor 收到 JobManager 提交的 Task 之后，会启动一个新的线程来执行该 Task。Task 启动后就会开始进行预先指定的计算，并通过数据 Shuffle 模块互相交换数据。"),"\n",r.createElement(t.p,null,"以上就是 Flink Runtime 层执行作业的基本流程。可以看出，Flink 支持两种不同的模式，即 Per-job 模式与 Session 模式。如图 3 所示，Per-job 模式下整个 Flink 集群只执行单个作业，即每个作业会独享 Dispatcher 和 ResourceManager 组件。此外，Per-job 模式下 AppMaster 和 TaskExecutor 都是按需申请的。因此，Per-job 模式更适合运行执行时间较长的大作业，这些作业对稳定性要求较高，并且对申请资源的时间不敏感。与之对应，在 Session 模式下，Flink 预先启动 AppMaster 以及一组 TaskExecutor，然后在整个集群的生命周期中会执行多个作业。可以看出，Session 模式更适合规模小，执行时间短的作业。"),"\n",r.createElement(t.img,{src:"https://mqjd.github.io/assets/imgs/svg/flink_processes.svg",alt:"img"}),"\n",r.createElement(t.h2,{id:"transformation",style:{position:"relative"}},r.createElement(t.a,{href:"#transformation","aria-label":"transformation permalink",className:"anchor before"},r.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Transformation"),"\n",r.createElement(t.p,null,"Transformation操作将1个或多个DataStream转换为新的DataStream，多个转换组合成复杂的数据流拓扑，如下图所示，DataStream会由不同的Transformation操作、转换、过滤、聚合成其他不同的流，从而完成业务要求；"),"\n",r.createElement(t.span,{dangerouslySetInnerHTML:{__html:"<span>SvgoParserError: <input>:1:1: Non-whitespace before first tag.\n\n> 1 | Error 400: : Unable to convert the diagram: connect ECONNREFUSED 127.0.0.1:46231\n    | ^\n  2 | \n</span>"}}),"\n",r.createElement(t.h2,{id:"shuffle-机制",style:{position:"relative"}},r.createElement(t.a,{href:"#shuffle-%E6%9C%BA%E5%88%B6","aria-label":"shuffle 机制 permalink",className:"anchor before"},r.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Shuffle 机制"),"\n",r.createElement(t.p,null,r.createElement(t.a,{href:"https://blog.csdn.net/u013411339/article/details/90625623"},"Shuffle机制的重构与优化")),"\n",r.createElement(t.p,null,r.createElement(t.a,{href:"https://app.diagrams.net/#Uhttps%3A%2F%2Fcdn.jsdelivr.net%2Fgh%2Fmqjd%2Fassets%2FFlinkShuffle.drawio"},"Shuffle机制流程图")),"\n",r.createElement(t.h2,{id:"执行图",style:{position:"relative"}},r.createElement(t.a,{href:"#%E6%89%A7%E8%A1%8C%E5%9B%BE","aria-label":"执行图 permalink",className:"anchor before"},r.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"执行图"),"\n",r.createElement(t.p,null,"由 Flink 程序直接映射成的数据流图是 StreamGraph，也被称为逻辑流图，因为它们表示的是计算逻辑的高级视图。为了执行一个流处理程序，Flink 需要将逻辑流图转换为物理数据流图（也叫执行图），详细说明程序的执行方式。"),"\n",r.createElement(t.p,null,"Flink 中的执行图可以分成四层：StreamGraph -> JobGraph -> ExecutionGraph -> 物理执行图。"),"\n",r.createElement(t.p,null,"StreamGraph：是根据用户通过 Stream API 编写的代码生成的最初的图。用来表示程序的拓扑结构。"),"\n",r.createElement(t.p,null,"JobGraph：StreamGraph 经过优化后生成了 JobGraph，提交给 JobManager 的数据结构。主要的优化为，将多个符合条件的节点 chain 在一起作为一个节点，这样可以减少数据在节点之间流动所需要的序列化/反序列化/传输消耗。"),"\n",r.createElement(t.p,null,"ExecutionGraph ： JobManager 根据 JobGraph 生成 ExecutionGraph 。 ExecutionGraph 是 JobGraph 的并行化版本，是调度层最核心的数据结构。"),"\n",r.createElement(t.p,null,"物理执行图：JobManager 根据 ExecutionGraph 对 Job 进行调度后，在各个TaskManager 上部署 Task 后形成的“图”，并不是一个具体的数据结构。"),"\n",r.createElement(t.img,{src:"https://mqjd.github.io/assets/imgs/img/flink_graph.png",alt:"API"}))}var a=function(e){void 0===e&&(e={});const{wrapper:t}=Object.assign({},(0,l.R)(),e.components);return t?r.createElement(t,e,r.createElement(i,e)):i(e)},o=n(454),s=n(9459),c=n(7437);const m=e=>{let t=Object.assign({},((0,o.A)(e),e));return(0,c.Y)(s.A,t)};function h(e){return r.createElement(m,e,r.createElement(a,e))}},8639:function(e,t,n){var l=n(6540),r=n(3896),i=n(3500),a=n(7437);t.A=e=>{let{title:t="",description:n="",pathname:o="",image:s="",children:c=null,canonicalUrl:m=""}=e;const h=(0,i.A)(),{siteTitle:d,siteTitleAlt:f,siteUrl:p,siteDescription:g,siteImage:E,author:w,siteLanguage:v}=h,b={title:t?t+" | "+d:f,description:n||g,url:""+p+(o||""),image:""+p+(s||E)};return(0,a.Y)(l.Fragment,null,(0,a.Y)("html",{lang:v}),(0,a.Y)("title",null,b.title),(0,a.Y)("meta",{name:"description",content:b.description}),(0,a.Y)("meta",{name:"image",content:b.image}),(0,a.Y)("meta",{property:"og:title",content:b.title}),(0,a.Y)("meta",{property:"og:url",content:b.url}),(0,a.Y)("meta",{property:"og:description",content:b.description}),(0,a.Y)("meta",{property:"og:image",content:b.image}),(0,a.Y)("meta",{property:"og:type",content:"website"}),(0,a.Y)("meta",{property:"og:image:alt",content:b.description}),(0,a.Y)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,a.Y)("meta",{name:"twitter:title",content:b.title}),(0,a.Y)("meta",{name:"twitter:url",content:b.url}),(0,a.Y)("meta",{name:"twitter:description",content:b.description}),(0,a.Y)("meta",{name:"twitter:image",content:b.image}),(0,a.Y)("meta",{name:"twitter:image:alt",content:b.description}),(0,a.Y)("meta",{name:"twitter:creator",content:w}),(0,a.Y)("meta",{name:"gatsby-theme",content:"@lekoarts/gatsby-theme-minimal-blog"}),(0,a.Y)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:(0,r.withPrefix)("/favicon-32x32.png")}),(0,a.Y)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:(0,r.withPrefix)("/favicon-16x16.png")}),(0,a.Y)("link",{rel:"apple-touch-icon",sizes:"180x180",href:(0,r.withPrefix)("/apple-touch-icon.png")}),m?(0,a.Y)("link",{rel:"canonical",href:m}):null,c)}},8699:function(e,t){t.A=function(e){return e.replace(/\/\/+/g,"/")}},9459:function(e,t,n){n.d(t,{p:function(){return d},A:function(){return h}});var l=n(6540),r=n(2531),i=n(6835),a=n(6386),o=n(2433),s=n(8639);var c=e=>{let{post:t}=e;return null};const m=["16px","8px","4px"].map(e=>"rgba(0, 0, 0, 0.1) 0px "+e+" "+e+" 0px");var h=e=>{let{data:{post:t},children:n}=e;return(0,r.Y)(a.A,null,(0,r.Y)(i.DZ,{as:"h1",variant:"styles.h1"},t.title),(0,r.Y)("p",{sx:{color:"secondary",mt:3,a:{color:"secondary"},fontSize:["1em","1.25em"]}},(0,r.Y)("time",null,t.date),t.tags&&(0,r.Y)(l.Fragment,null," — ",(0,r.Y)(o.A,{tags:t.tags})),t.timeToRead&&" — ",t.timeToRead&&(0,r.Y)("span",null,t.timeToRead," min read")),(0,r.Y)("section",{className:"post",sx:{my:5,".gatsby-resp-image-wrapper":{my:[4,4,5],borderRadius:"4px",boxShadow:m.join(", "),".gatsby-resp-image-image":{borderRadius:"4px"}},variant:"layout.content"}},n),(0,r.Y)(c,{post:t}))};const d=e=>{var t,n,l;let{data:{post:i}}=e;return(0,r.Y)(s.A,{title:i.title,description:i.description?i.description:i.excerpt,image:i.banner?null===(t=i.banner)||void 0===t||null===(n=t.childImageSharp)||void 0===n||null===(l=n.resize)||void 0===l?void 0:l.src:void 0,pathname:i.slug,canonicalUrl:i.canonicalUrl})}}}]);
//# sourceMappingURL=component---src-templates-post-query-tsx-content-file-path-docs-posts-flink-basic-index-mdx-3430346233e22e7f6428.js.map